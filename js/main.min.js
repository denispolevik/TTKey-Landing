// //ANIMATION

// let block = document.querySelector(".services"),
// fixedElem = document.querySelector(".services__leftside"),
// fixedElem2 = document.querySelector(".services__rightside"),
// fixedFinal = document.getElementById('agitation'),
// item1 = document.getElementById("item1"),
// item2 = document.getElementById("item2"),
// trigger = document.querySelector(".trigger"),
// trigger2 = document.querySelector(".take");
// function offset(el) {
//     var rect = el.getBoundingClientRect(),
//     scrollTop = window.pageYOffset || document.documentElement.scrollTop;
//     let top = rect.top + scrollTop;
//     return top;
// }
// console.log()

// document.addEventListener('DOMContentLoaded', function() {
//     document.addEventListener('scroll', function() {
// if ( window.screen.width > 992 ) {
//     let FixedStart = (window.pageYOffset + 94) >= (offset(block).top + 25) && (window.pageYOffset + window.innerHeight + 94) <= offset(fixedFinal).top + 60 ;
//     let absolute = (window.pageYOffset + window.innerHeight + 94) >= offset(fixedFinal).top + 60;
//     let removeAll = (window.pageYOffset + 94 < (offset(block).top + 25));
//      if (FixedStart) {
//      block.querySelector('.services__inner').classList.add('fixed');
//      block.querySelector('.services__inner').classList.remove('absolute');

//     } else
//      if(absolute) {
//         block.querySelector('.services__inner').classList.remove('fixed');
//         block.querySelector('.services__inner').classList.add('absolute');

//     } else if(removeAll) {
//         block.querySelector('.services__inner').classList.remove('fixed');
//         block.querySelector('.services__inner').classList.remove('absolute');
//     }
// }
// })
// })



// document.addEventListener('scroll', function() {
//     if (window.screen.height > 1080 && window.screen.width > 992) {
//         if(window.pageYOffset + 89 >= (offset(block).top + (block.clientHeight / 2)))
//      {
//        item1.classList.remove('active');
//       item2.classList.add('active')

//     } else {
//       item1.classList.add('active');
//       item2.classList.remove('active')

//     }
//     } else if (window.screen.height < 1079 && window.screen.width > 992) {
//         if(window.pageYOffset + 89 >= (offset(block).top + (block.clientHeight / 4.5)))
//      {
//        item1.classList.remove('active');
//       item2.classList.add('active')

//     } else {
//       item1.classList.add('active');
//       item2.classList.remove('active')

//     }
//     };
//   });
const tooltipb1 = document.querySelector('.tb1')
const tooltipb2 = document.querySelector('.tb2')
const tooltipb3 = document.querySelector('.tb3')
const tooltipb4 = document.querySelector('.tb4')
const tooltipb5 = document.querySelector('.tb5')

const tooltip1 = document.querySelector('.tt1')
const tooltip2 = document.querySelector('.tt2')
const tooltip3 = document.querySelector('.tt3')
const tooltip4 = document.querySelector('.tt4')
const tooltip5 = document.querySelector('.tt5')

function hideClass(e) {
  e.classList.remove('active')
}
if(window.screen.width < 1152) {
  document.querySelector('body').addEventListener('click', function(e) {
    if (e.target.classList.contains('tt1') || e.target.classList.contains('regular1')) {
      tooltip1.classList.add('active');

    } else if (e.target.classList.contains('tb1')) {
      tooltip1.classList.toggle('active')
    }  else {
      tooltip1.classList.remove('active');
    }
  })
  document.querySelector('body').addEventListener('click', function(e) {
    if (e.target.classList.contains('tt2') || e.target.classList.contains('regular2')) {
          tooltip2.classList.add('active');

    } else if (e.target.classList.contains('tb2')) {
      tooltip2.classList.toggle('active')
    }  else {
      tooltip2.classList.remove('active');
    }
  })
  document.querySelector('body').addEventListener('click', function(e) {
    if (e.target.classList.contains('tt3') || e.target.classList.contains('regular3')) {
          tooltip3.classList.add('active');

    } else if (e.target.classList.contains('tb3')) {
      tooltip3.classList.toggle('active')
    }  else {
      tooltip3.classList.remove('active');
    }
  })
  document.querySelector('body').addEventListener('click', function(e) {
    if (e.target.classList.contains('tt4') || e.target.classList.contains('regular4')) {
          tooltip4.classList.add('active');

    } else if (e.target.classList.contains('tb4')) {
      tooltip4.classList.toggle('active')
    }  else {
      tooltip4.classList.remove('active');
    }
  })
  document.querySelector('body').addEventListener('click', function(e) {

    if (e.target.classList.contains('tt5') || e.target.classList.contains('regular5')) {
      tooltip5.classList.add('active');
    } else if (e.target.classList.contains('tb5')) {
      tooltip5.classList.toggle('active')
    }  else {
      tooltip5.classList.remove('active');
    }
  });
} else if (window.screen.width > 1152) {
  tooltipb1.addEventListener('mouseover', function() {
    tooltip1.classList.add('active')

  })
  tooltipb2.addEventListener('mouseover', function() {
    tooltip2.classList.add('active')

  })
  tooltipb3.addEventListener('mouseover', function() {
    tooltip3.classList.add('active')

  })
  tooltipb4.addEventListener('mouseover', function() {
    tooltip4.classList.add('active')

  })
  tooltipb5.addEventListener('mouseover', function() {
    tooltip5.classList.add('active')

  })
  tooltipb1.addEventListener('mouseout', function() {
    tooltip1.classList.remove('active')

  })
  tooltipb2.addEventListener('mouseout', function() {
    tooltip2.classList.remove('active')

  })
  tooltipb3.addEventListener('mouseout', function() {
    tooltip3.classList.remove('active')

  })
  tooltipb4.addEventListener('mouseout', function() {
    tooltip4.classList.remove('active')

  })
  tooltipb5.addEventListener('mouseout', function() {
    tooltip5.classList.remove('active')

  })
}



(
(function () {
  var lastTime = 0;
  var vendors = ["ms", "moz", "webkit", "o"];
  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
    window.requestAnimationFrame =
      window[vendors[x] + "RequestAnimationFrame"];
    window.cancelAnimationFrame =
      window[vendors[x] + "CancelAnimationFrame"] ||
      window[vendors[x] + "CancelRequestAnimationFrame"];
  }

  if (!window.requestAnimationFrame)
    window.requestAnimationFrame = function (callback, element) {
      var currTime = new Date().getTime();
      var timeToCall = Math.max(0, 16 - (currTime - lastTime));
      var id = window.setTimeout(function () {
        callback(currTime + timeToCall);
      }, timeToCall);
      lastTime = currTime + timeToCall;
      return id;
    };

  if (!window.cancelAnimationFrame)
    window.cancelAnimationFrame = function (id) {
      clearTimeout(id);
    };
})()
);

const animItems = document.querySelectorAll(".anim_item");
if (animItems.length > 0) {
function animOnScroll() {
  for (let e = 0; e < animItems.length; e++) {
    const t = animItems[e],
      o = t.offsetHeight,
      n = offset(t).top,
      c = 100;
    let l = window.innerHeight - o / c;
    o > window.innerHeight &&
      (l = window.innerHeight - window.innerHeight / c),
      pageYOffset > n - l && pageYOffset < n + o
        ? t.classList.add("_active")
        : t.classList.contains("_no_hide") || t.classList.remove("_active");
  }
}

function offset(e) {
  const t = e.getBoundingClientRect(),
    o = window.pageXOffset || document.documentElement.scrollLeft,
    n = window.pageYOffset || document.documentElement.scrollTop;
  return {
    top: t.top + n,
    left: t.left + o,
  };
}
window.addEventListener("scroll", animOnScroll),
  setInterval(() => {
    animOnScroll();
  }, 500);
}

function scrollFunction() {
let h = document.querySelector("header");
document.documentElement.scrollTop > 50
  ? h.classList.add("bgr")
  : h.classList.remove("bgr");
}
document.querySelectorAll('a[href^="#"').forEach((link) => {
link.addEventListener("click", function (e) {
  e.preventDefault();

  let href = this.getAttribute("href").substring(1);
  document.querySelector(".mobile__menu-btn").classList.remove("open");
  document.querySelector(".header__mobile-bg").classList.remove("active");
  document.querySelector(".mobile__menu").classList.remove("open");
  const scrollTarget = document.getElementById(href);

  const topOffset = document.querySelector(".header").offsetHeight;
  const elementPosition = scrollTarget.getBoundingClientRect().top;
  const offsetPosition = elementPosition - topOffset;

  window.scrollBy({
    top: offsetPosition,
    behavior: "smooth",
  });
});
});
const popupLinks = document.querySelectorAll(".popup-link"),
body = document.querySelector("body"),
lockPadding = document.querySelectorAll(".lock-padding");
window.onload = () => {
const f = document.querySelector(".notification.fixed");
const k = document.querySelector(".intro__scroll-to");
const platform = document.querySelector(".platform");
const sctt = document.querySelector(".scroll-to-top");
sctt.addEventListener("click", function (e) {
  document.getElementById("#intro").scrollIntoView({ behavior: "smooth" });
}),
  (window.onscroll = () => {
    scrollFunction();
    window.scrollY > 800
      ? sctt.classList.remove("hide")
      : window.scrollY < 800 && sctt.classList.add("hide");
  });
};

const headerBg = document.querySelector(".header__mobile-bg");
(document.querySelector(".mobile__menu-btn").onclick = function () {
  body.classList.toggle('disable-scroll'),
document.querySelector(".mobile__menu-btn").classList.toggle("open"),
  document.querySelector(".mobile__menu").classList.toggle("open"),
  headerBg.classList.toggle("active");
}),
(headerBg.onclick = function () {
  this.classList.remove("active"),
  body.classList.remove('disable-scroll'),
    document.querySelector(".mobile__menu-btn").classList.remove("open"),
    document.querySelector(".mobile__menu").classList.remove("open");
});

let unlock = !0;
const timeout = 800;
if (popupLinks.length > 0)
for (let e = 0; e < popupLinks.length; e++) {
  const t = popupLinks[e];
  t.addEventListener("click", function (e) {
    const o = t.getAttribute("href").replace("#", "");
    popupOpen(document.getElementById(o)), e.preventDefault();
  });
}
const popupCloseIcon = document.querySelectorAll(".popup__close");
if (popupCloseIcon.length > 0)
for (let e = 0; e < popupCloseIcon.length; e++) {
  const t = popupCloseIcon[e];
  t.addEventListener("click", function (e) {
    popupClose(t.closest(".popup")), e.preventDefault;
  });
}

function popupOpen(e) {
if (e && unlock) {
  const t = document.querySelector(".popup.open");
  t ? popupClose(t, !1) : bodylock(),
    e.classList.add("open"),
    e.addEventListener("click", function (e) {
      e.target.closest(".popup__inner") ||
        popupClose(e.target.closest(".popup"));
    });
}
}

function popupClose(e, t = !0) {
unlock && (e.classList.remove("open"), t && bodyUnlock());
}

function bodylock() {
const e =
  window.innerWidth - document.querySelector("body").offsetWidth + "px";
if (lockPadding.length > 0)
  for (let t = 0; t < lockPadding.length; t++)
    lockPadding[t].style.paddingRight = e;
(body.style.paddingRight = e),
  body.classList.add("lock"),
  (unlock = !1),
  setTimeout(function () {
    unlock = !0;
  }, 500);
}
const popup = document.querySelector(".popup");
function bodyUnlock() {
setTimeout(function () {
  if (lockPadding.length > 0)
    for (let e = 0; e < lockPadding.length; e++)
      lockPadding[e].style.paddingRight = "0px";
  (body.style.paddingRight = "0px"), body.classList.remove("lock");
}, 800),
  (unlock = !1),
  setTimeout(function () {
    unlock = !0;
  }, 500);
}
document.addEventListener("keydown", function (e) {
if (e.which === 27) {
  popupClose(popup);
}
});





new Swiper ('.swiper_block ', {
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },
  autoplay: 0,
	direction: 'horizontal',
  spaceBetween: 90,
  loop: true,
  centeredSlides: true,
  slidesPerView: 'auto',
});


new Swiper ('.services__rightside', {
  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },
  navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  },
  autoplay: 0,
	direction: 'horizontal',
  spaceBetween: 90,
  loop: true,
  centeredSlides: true,
  slidesPerView: 'auto',
});



